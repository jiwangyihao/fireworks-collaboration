# Fireworks Collaboration 项目开发指南

## 🖥️ 终端环境规范

### Shell 环境
- 当前开发环境使用 **PowerShell**
- 编写终端命令时，无需使用 `powershell -Command` 显式指定执行 Shell（会产生额外冲突）
- **禁止使用 PowerShell 操作文件**（会导致文字编码问题，请使用 Git 或其他工具）

## 📁 项目结构规范

### 测试代码组织
- **所有**测试代码必须放在 `src-tauri\tests` 目录下
- **严禁**在实现代码目录 `src-tauri\src` 下放置任何测试代码
- 测试与实现代码完全分离

### 目录结构示例
```
src-tauri/
├── src/           # 实现代码（不含测试）
│   ├── core/
│   ├── app/
│   └── lib.rs
└── tests/         # 所有测试代码
    ├── workspace/
    ├── submodule/
    ├── git/
    └── ...
```

## 🧪 测试运行规范

### 本地测试环境
- 运行后端测试时，**不需要**禁用 E2E 测试功能
- 所有测试都应该能在本地正常运行

## 🔄 Git 工作流规范

### 分支策略
- **不需要**创建独立分支
- 直接在 **main 分支**上提交即可

### 提交规范
- 使用 **Conventional Commits** 规范
- 提交消息使用**中文**编写
- 格式：`<type>: <description>`
  - 例如：`feat: 添加用户认证功能`
  - 例如：`fix: 修复登录页面崩溃问题`
  - 例如：`test: 迁移 workspace 模块测试`

### 提交时机
- **未明确要求时，不要主动提交**
- 用户可能希望再次修改后再提交
- 等待用户明确指示后再执行 Git 操作

## 📝 常用 Commit 类型

| 类型 | 说明 | 示例 |
|------|------|------|
| `feat` | 新功能 | `feat: 实现代理配置管理` |
| `fix` | 修复缺陷 | `fix: 解决内存泄漏问题` |
| `test` | 测试相关 | `test: 添加单元测试覆盖` |
| `refactor` | 重构代码 | `refactor: 优化模块结构` |
| `docs` | 文档更新 | `docs: 更新 API 文档` |
| `chore` | 构建/工具 | `chore: 更新依赖版本` |
| `style` | 代码格式 | `style: 统一代码风格` |
| `perf` | 性能优化 | `perf: 提升查询性能` |
